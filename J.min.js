if("undefined"==typeof J)window.J=new Object;else if("object"!=typeof J)throw"J global variable already exists";!function(){var e=["XMLHttpRequest not support","JSON error","Request error","Send error",", code: "];J=function(e){var t=document.querySelectorAll(e,null);return null===t||void 0===t[0]?null:t[0]},J.Ready=function(e){"loading"!==document.readyState?e():document.addEventListener("DOMContentLoaded",e)},J.isUndefined=function(e){return void 0===e},J.GetJSON=function(t,r){if(window.XMLHttpRequest){var n=new XMLHttpRequest;n.open("GET",t,!0),n.onload=function(){if(n.status>=200&&n.status<400){var t;try{t=JSON.parse(n.responseText)}catch(t){r(e[2]+t,!1)}null==t?r(e[1],!1):r(t,!0)}else r(e[2]+e[4]+n.status,!1)},n.onerror=function(){r(e[2],!1)},n.send()}else r(e[0],!1)},J.SendJSON=function(t,r,n){if(window.XMLHttpRequest){var i;try{i=JSON.stringify(r)}catch(t){n(e[3]+t,!1)}var o=new XMLHttpRequest;o.open("POST",t,!0),o.setRequestHeader("Content-Type","application/json"),o.onerror=function(){n(e[3]+e[4]+o.status,!1)},o.send(i)}else n(e[0],!1)},HTMLElement.prototype.FadeIn||(HTMLElement.prototype.FadeIn=function(e){var t=this;t.style.opacity=0,t.style.display=e||"block",function e(){var r=parseFloat(t.style.opacity);(r+=.02)>1||(t.style.opacity=r,requestAnimationFrame(e))}()}),HTMLElement.prototype.FadeOut||(HTMLElement.prototype.FadeOut=function(){var e=this;e.style.opacity=1,function t(){(e.style.opacity-=.05)<0?e.style.display="none":requestAnimationFrame(t)}()}),HTMLElement.prototype.AddClass||(HTMLElement.prototype.AddClass=function(e){this.classList?this.classList.add(e):this.className+=" "+e}),HTMLElement.prototype.RemoveClass||(HTMLElement.prototype.RemoveClass=function(e){this.classList&&this.classList.remove(e)}),HTMLElement.prototype.ToggleClass||(HTMLElement.prototype.ToggleClass=function(e){this.classList&&this.classList.toggle(e)}),HTMLElement.prototype.HasClass||(HTMLElement.prototype.HasClass=function(e){return this.classList?this.classList.contains(e):null}),HTMLElement.prototype.Find||(HTMLElement.prototype.Find=function(e){return this.querySelectorAll(e)}),HTMLElement.prototype.Html||(HTMLElement.prototype.Html=function(e){this.innerHTML=e||""}),HTMLElement.prototype.Text||(HTMLElement.prototype.Text=function(){return this.textContent}),HTMLElement.prototype.Before||(HTMLElement.prototype.Before=function(e){this.insertAdjacentHTML("beforebegin",e)}),HTMLElement.prototype.After||(HTMLElement.prototype.After=function(e){this.insertAdjacentHTML("afterend",e)}),HTMLElement.prototype.Css||(HTMLElement.prototype.Css=function(e){return getComputedStyle(this,null)[e]}),String.prototype.ReplaceAll||(String.prototype.ReplaceAll=function(e,t){return this.replace(new RegExp(e,"g"),t)}),HTMLElement.prototype.Template||(HTMLElement.prototype.Template=function(e){return function e(t,r,n){n=n||"";for(var i in t)t.hasOwnProperty(i)&&(r="object"==typeof t[i]?e(t[i],r,n+"."+i):r.ReplaceAll("{{"+n+"."+i+"}}",t[i]));return r}(e,this.innerHTML)}),HTMLElement.prototype.FormToObject||(HTMLElement.prototype.FormToObject=function(){if("object"!=typeof this&&"FORM"!==this.nodeName)return null;for(var e,t=this.elements,r={},n=0;n<t.length;n++)if(!(e=t[n]).disabled&&e.value&&""!=e.value&&e.name&&e.name.length>0&&-1==["file","reset","submit","button"].indexOf(t[n].type)&&(-1==["checkbox","radio"].indexOf(t[n].type)||t[n].checked))if(-1!=["select-multiple"].indexOf(t[n].type))for(var i=t[n].options.length-1;i>=0;i--)t[n].options[i].selected&&(J.isUndefined(r[t[n].name])&&(r[t[n].name]=[]),-1==r[t[n].name].indexOf(t[n].options[i].value)&&r[t[n].name].push(t[n].options[i].value));else r[t[n].name]=t[n].value;return r}),HTMLElement.prototype.ObjectToForm||(HTMLElement.prototype.ObjectToForm=function(e,t){if("object"==typeof this){this.FormBuilder={form:null,onsubmit:null,options:e,styles:t};var r=this,n=function(e){return!(J.isUndefined(e.properties)||J.isUndefined(e.properties.title)||!e.properties.title)},i=function(e){return!(J.isUndefined(e)||!Array.isArray(e)||!e.length)},o=function(e,t){return!(J.isUndefined(e[t])||!e[t])},s=function(e,t){for(var r=t.split(" "),n=0;n<r.length;n++)e.classList.add(r[n]);return e},l=function(e,t,r){for(var n in t)if(t.hasOwnProperty(n)){if(!t[n])continue;"style"===n?e.style.cssText=t[n]:"class"===n?s(e,t[n]):e.setAttribute(n,t[n])}return!o(t,"id")&&o(t,"name")&&e.setAttribute("id",t.name),r&&!o(t,"class")&&s(e,r),e},p=function(e,t){if(n=t,J.isUndefined(n.title)||!n.title)return e;var n,i=document.createElement("div"),l=document.createElement("div");return o(r.FormBuilder.styles,"group")&&s(i,r.FormBuilder.styles.group),o(r.FormBuilder.styles,"label")&&s(l,r.FormBuilder.styles.label),J.isUndefined(t.required)||s(l,r.FormBuilder.styles.rlabel),l.appendChild(document.createTextNode(t.title)),i.appendChild(l),i.appendChild(e),i},u=function(e,t,r){var n=document.createElement(e);return l(n,t,r),n},a=function(e,t,r){var n=document.createElement("label");o(t.properties,"title")&&(n.appendChild(document.createTextNode(t.properties.title)),delete t.properties.title),o(t.properties,"id")||(o(t.properties,"name")?t.properties.id=t.properties.name+"-id":t.properties.id=t.properties.type+"-id"),n.setAttribute("for",t.properties.id);var i=u("input",t.properties,r);return e.appendChild(i),e.appendChild(n),e},d=function(e){if("object"==typeof e&&"string"==typeof e.type&&e.type){var t,l,d,m,c;switch(e.type){case"sring":c=o((m=e).properties,"type")?m.properties.type:"text",m.properties.type=c,t=p(u("input",m.properties,r.FormBuilder.styles.string),m);break;case"text":o((d=e).properties,"type")&&delete d.properties.type,t=p(u("textarea",d.properties,r.FormBuilder.styles.text),d);break;case"boolean":(l=e).properties.type="checkbox",t=p(a(s(document.createElement("div"),r.FormBuilder.styles.xbox),l,r.FormBuilder.styles.boolean),l);break;case"enum":t=function(e){if(!i(e.enum))return null;var t=document.createElement("div");s(t,r.FormBuilder.styles.xbox);for(var o=0;o<e.enum.length;o++)if(n(e.enum[o])){var l=e.enum[o];l.properties.id=e.enum[o].properties.name+"-"+o,l.properties.type="radio",l.title=l.properties.title,t=a(t,l,r.FormBuilder.styles.enum)}return p(t,e)}(e);break;case"select":t=function(e){if(!i(e.list))return null;o(e.properties,"type")&&delete e.properties.type;for(var t=u("select",e.properties,r.FormBuilder.styles.select),s=0;s<e.list.length;s++)if(n(e.list[s])){var l={},a=J.isUndefined(e.list[s].properties.title)||!e.list[s].properties.title?"_"+s:e.list[s].properties.title;l.value=J.isUndefined(e.list[s].properties.value)||!e.list[s].properties.value?a:e.list[s].properties.value,J.isUndefined(e.list[s].properties.selected)||(l.selected=!0),J.isUndefined(e.list[s].properties.disabled)||(l.disabled=!0);var d=u("option",l,null);d.appendChild(document.createTextNode(a)),t.appendChild(d)}return p(t,e)}(e);break;case"submit":e.properties.type="submit",t=u("input",e.properties,r.FormBuilder.styles.submit);break;case"reset":e.properties.type="reset",t=u("input",e.properties,r.FormBuilder.styles.reset);break;default:return}t&&r.FormBuilder.form.appendChild(t)}};if(i(this.FormBuilder.options.form)){if(this.FormBuilder.form=document.createElement("form"),J.isUndefined(this.FormBuilder.options.properties)?s(this.FormBuilder.form,this.FormBuilder.styles.form):l(this.FormBuilder.form,this.FormBuilder.options.properties,this.FormBuilder.styles.form),o(this.FormBuilder.options,"title")){var m=document.createElement("h3");m.appendChild(document.createTextNode(this.FormBuilder.options.title)),this.FormBuilder.form.appendChild(m)}for(var c=0;c<this.FormBuilder.options.form.length;c++)d(this.FormBuilder.options.form[c]);this.appendChild(this.FormBuilder.form),delete this.FormBuilder.styles,"function"==typeof this.FormBuilder.options.onsubmit?(this.FormBuilder.onsubmit=this.FormBuilder.options.onsubmit,delete this.FormBuilder.options,this.FormBuilder.form.onsubmit=function(e){if(e=e||window.event,!r.FormBuilder.onsubmit)return!1;var t=r.FormBuilder.onsubmit(e,r.FormBuilder.form,r.FormBuilder.form.FormToObject());return!J.isUndefined(t)&&t}):delete this.FormBuilder.options}}})}();var Route={Name:["DNS","URL","IP&nbsp;&nbsp;"],Act:["/html/check/dns/","/html/check/url/","/html/check/ip/"],Func:[function(e){return new RegExp("^(([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}?$","i").test(e)},function(e){return new RegExp("^(https?:\\/\\/)((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%@_.~+&:]*)*(\\?[;&a-z\\d%@_.,~+&:=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)},function(e){return new RegExp("^((\\d{1,3}\\.){3}\\d{1,3})?$","i").test(e)}]};function AlertSetError(e,t){J("#input-error").Html(e),J("#input-type").Html(t)}function AlertClose(){return J("#input-warning").FadeOut(),!1}function RadioChange(e){return!(e>=Route.Name.length)&&(J("#act-text").Html(Route.Name[e]),!1)}function TemplateLoadCb(e,t){t?(J("#txt-templ1").Html(J("#template-list-dns").Template(e.dnsfilter)),J("#txt-templ2").Html(J("#template-list-url").Template(e.urlfilter))):J("#txt-templ3").Html(e)}window.onload=function(){var e=J("#check-form");null!=e&&(e.onsubmit=function(t){t=t||window.event;var r=e.elements["src-type"],n=e.elements["input-check"].value,i=J("#input-warning");if(""==n)return AlertSetError("empty DNS, URL or IP string","input!"),i.FadeIn(),!1;i.FadeOut();for(var o=0;o<r.length;o++)if(r[o].checked)return J("#act-text").Html=Route.Name[o],Route.Func[o](n)?(window.location.assign(Route.Act[o]+"?"+encodeURIComponent(n)),!1):(AlertSetError(n,Route.Name[o]),i.FadeIn(),!1);return!1},J.Ready(function(){J("#radio-0").onclick=function(){RadioChange(0)},J("#radio-1").onclick=function(){RadioChange(1)},J("#radio-2").onclick=function(){RadioChange(2)}})),J.Ready(function(){J("#template-list-dns")&&J("#template-list-url")&&J.GetJSON("/json/stat/db/",TemplateLoadCb)})};